## 新实验性特性
### 村民交易平衡性调整
此快照调整了流浪商人和图书管理员的交易，可以通过特性开关启用。如果你想测试新的交易，就必须在创建新世界时在实验菜单中打开。
#### 图书管理员交易调整
在这次更改之前，玩家可以从任意图书管理员处获得任意附魔书。新手级别的图书管理员就可以出售游戏中最好的附魔书了！对于一些玩家来说，这个特性过于随机，同时在让村民交易与附魔台附魔和结构中搜索相比过于方便。
在全新的规则下，不同生物群系的图书管理员将出售不同的附魔书，而且每个群系都会有一个独特的附魔书，且只会被该群系村庄里的大师级图书管理员出售。
玩家现在必须先，而不是碰运气。我们希望这使图书管理员交易变得更加有趣，同时不同村庄出售的魔咒一定程度上也能提供当地历史文化的线索。
![附魔书交易表格](/附魔书交易表格.png "附魔书交易表格")
* 不同生物群系的图书管理员现在会出售不同的附魔书
* 个群系都分配了一个特殊的附魔书，只有拥有满经验的大师图书管理员才能出售
* 这意味着玩家必须到达全部七个群系才能获得全部附魔书
* 有两个特殊群系，在这些群系中村庄不会自然生成
	* 玩家需要自行搭建村庄来获取这些交易！
* 一些附魔书已从村民交易中移除，必须要通过其他渠道才能找到
#### 流浪商人交易调整
一些玩家觉得流浪商人要价太高，卖的东西也没什么用。因此我们降低了交易所需的绿宝石，同时加入了更多交易，并且提升了物品单次可交易的最大次数。流浪商人现在也会从玩家那里收购自己需要的物品。因此即使你不想买东西，也可以向他们提供物品，来帮助他们完成旅程。
![流浪商人交易表格](流浪商人交易表格.png "流浪商人交易表格")
* 流浪商人交易现在需要的绿宝石减少，可交易的最大次数增加
* 流浪商人现在可以出售原木
* 流浪商人现在也会收购物品
## 更改
* 钻石矿现在在主世界的深板岩层生成更加频繁
* 僵尸村民现在只在第一次被治愈时提供大额交易折扣
	* 多次感染并治愈同一个村民后，交易折扣不再翻倍
* 创造模式的玩家可以让屏障方块含水
	* 无法通过直接交互以外的方式让屏障方块含水，例如使用发射器
* 玩家现在在乘坐载具的时候不能够潜行了
* 紫颂花现在不再为悬挂或需要支撑的方块提供支撑面
### 钻石矿石分布
在这个快照中，我们提高了钻石矿石在主世界深层生成的概率。从而让在深板岩层中挖取钻石的回报更高。我们期待你的反馈！
## 技术性更新
* 资源包版本现在为 16
* 数据包版本现在为 16
* 使用过的命令历史现在在本地保存，可以在不同的世界中获取
* 优化了区块发送到客户端的方式，从而允许低带宽的网络连接进行多人模式游戏
* 添加了数据包和资源包的多版本兼容支持
* 更改了网络协议，以便未来支持更加数据驱动的内容
* 在 server.properties 中增加了 log-ips 选项
* 加入了数据包和资源包的符号链接验证
* 当 F3+B 碰撞箱显示开启后，有乘客的实体会显示乘客的着落点
### 命令历史
* 现在聊天框中最近发送的 50 个命令能够在不同的游戏会话中保留
* 你可以通过上下箭头键获得聊天和命令历史
* 普通聊天历史依然只在一个游戏对话中保留（离开世界或者服务器会清空聊天历史）
* 最近发送的命令储存在游戏文件夹的 command_history.txt 内
### 区块发包优化
* 优化了向客户端发送区块的方式，不再连续大量发包
* 现在可以根据可用的带宽少量发包
* 现在只有客户端渲染范围内的区块才会被发包
### 多版本包
* 向资源包和数据包内新增了内容，用来创建兼容多版本游戏的数据包和资源包。详细内容略。
### 网络协议
* 略
### SERVER.PROPERTIES
* 新选项 log-ips （默认为 true），当设置为 false 时，玩家加入游戏时，玩家设备的 IP 地址将不会被记录在日志中
### 符号链接验证
* 为保证安全性，游戏会检测数据包和资源包中含有的符号链接。
### 遥测
* 在遥测数据收集屏幕内添加了一个指向微软隐私声明的按钮
### 资源包版本 16 更新内容
* 你可以通过 Slicer 工具来自动更新你的资源包
? 按钮 Slicer工具（Github） 打开网页 https://github.com/Mojang/slicer/releases/tag/v1.1 打开网页
* 所有 GUI 精灵表中包含的纹理已被切分为 textures/gui/sprites 目录下单独的精灵图（使用 Slicer 工具自动化）
* realms 命名空间下的全部纹理现已移动到 minecraft 命名空间下（使用 Slicer 工具自动化）
* villager2.png 被重命名为 villager.png（使用 Slicer 工具自动化）
* icon/trial_available 和 realm_status/expires_soon GUI 中使用的精灵图现在使用 .mcmeta 声明动画，而不再是单独的精灵图（使用 Slicer 工具自动化）
* 具体内容与其余内容略
### 数据包版本 16 更新内容
* 游戏规则 randomTickSpeed 现在也会影响积雪和冰，就像随机刻影响作物和其他方块一样
* 添加了 random 命令
* 添加了 execute 子命令：execute if function
* 添加了 return 子命令：return run
* 添加了对函数宏的支持
* 更改了展示实体的 post-teleport 插值
* 添加了新属性 generic.max_absorption
* 将 /scoreboard 命令中用于调整显示位置的参数 belowName 重命名为 below_name
* 更改了部分游戏事件
* 添加了新标签
#### RANDOM
* 一个新命令，用于输出随机结果，或控制随机序列。可以使用 value 和 roll 来抽取随机数。使用 roll 时，结果将在聊天窗口中显示给所有玩家。
#### EXECUTE IF FUNCTION
* 一个新的 execute 子命令，用来运行函数或函数标签，并匹配一个或多个输出值。如果给定一个函数标签，则标签下每一个函数都会运行，无论前一个函数输出如何。
#### 函数
* 如果一个反斜杠符号 \ 作为一行的最后非空字符，则允许一个命令在下一行继续
#### 函数宏
* 函数内现在可以包括函数宏。
* 可以通过在一行开头（第一个非空字符）使用  $  标记函数宏
* 函数宏内可通过 $(variable) 调用变量值
* 在调用函数宏时，必须提供包含所有参数变量的数据集
* 可以使用下面列举的形式
	* function <id> <compound> ：compound：一组复合数据，用 {} 表示
	* function <id> with <data source> [<path>]
		* data source：一个指定的数据值，就像使用 data get 获取到的那样
		* path：一个指定 NBT 的路径
* 数据值和 NBT 路径必须指定复合数据项
* 对于宏中使用的每一个变量，复合数据至少包含一个数据项
* 复合数据内可包含更多数据，但超出的数据项将被忽略
* 使用复合数据调用的非宏函数将被静默忽略
* 调用函数宏时，将提供的值替换为指定变量，并执行生成的命令
* 因变量替换而导致的函数行中任何语法错误都将导致整个函数的调用被跳过
* 使用宏将意味着命令会在变量替换后被重新计算。因此与运行预解析函数相比，运行函数宏将有更大的性能消耗。
#### 展示实体插值
* 展示实体现在会在更新后的下一刻开始更新它们在客户端的位置
* 在服务端，位置和旋转的更新仍然是立即进行
* 单次插值的持续时间由 teleport_duration 字段控制
* 注意：骑乘行为仍与过去版本相同
#### 属性
* 添加新属性 generic.max_absorption，用来限制 AbsorptionAmount 的最大值
* 伤害吸收状态效果（absorption）可以提升 generic.max_absorption，生物在获得该效果时立即将 AbsorptionAmount 提升至最大值
#### 游戏事件
* entity_roar 和 entity_shake 游戏事件被移除，替换为 entity_action 游戏事件
#### 标签
* 添加 no_knockback 伤害类型标签，拥有该标签的伤害类型本身不再造成击退
* 添加 non_controlling_rider 标签，拥有该标签的实体在作为乘客时不能控制它们的坐骑移动
* 添加 concrete_powder 方块标签，包含全部混凝土粉末方块
* 添加 camel_sand_step_sound_blocks 方块标签，拥有该标签的方块会发出 entity.camel.step_sand 音效
## 修复的主要漏洞
* 村民被多次感染和治愈后交易折扣会加倍
* /item 命令无法移除唱片机、雕纹书架内物品
* 在加入服务器、切换维度及重生时，世界不加载 或 玩家会掉出世界
* 幽匿感测体不检测一些实体发出的音效
* 铁傀儡生成速率下降
* 骆驼冲刺不会激活幽匿感测体
* 被拴绳拴住的嗅探兽不会判断当前位置是否已探索，导致其在同一位置一直挖掘
